<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../item.css">
    <link rel="icon" type="image/png" href="../Images/rossRams.png">
    <title>Rossrams Engineering Club</title>
</head>

<body>
    <div id="header">
        <div id="logo">
            <img src="../Images/rossRams.png" alt="Ross Rams Logo">
            <p id="logoText">Engineering Club</p>
        </div>
        <div id="links">
            <a class="navLink" href="../index.html">Home</a>
            <a class="navLink" href="../store.html">Store</a>
            <a class="navLink" href="../contact.html">Contact</a>
        </div>
    </div>
    <div id="content">
        <div id="thumbnail">
            <img src="../Images/product/custom3dprint.png" alt="3D Printed Octopus">
        </div>
        <div id="productDetails">
            <p id="navigation">Home / 3D Prints / Custom 3D Print</p>
            <h1 id="name">Custom 3D Print</h1>
            <p id="cost">$10.00</p>
            <div id="customization">
                <p id="customizationTitle">Customizations</p>
                <form style="margin: 10px 0; /* Space above and below the options */" form id="productForm">
                    <h3>Custom Design: </h3>
                    <input type="file" id="designUpload" accept="image/*" required />
                </form>
                <p>Color 1:</p>
                <div id="options">
                    <button onclick="color1(`blue`)"  class="pick blue colorOption"></button>
                    <button onclick="color1(`red`)"  class="red colorOption"></button>
                    <button onclick="color1(`yellow`)"  class="yellow colorOption"></button>
                    <button onclick="color1(`green`)"  class="green colorOption"></button>
                    <button onclick="color1(`black`)"  class="black colorOption"></button>
                    <button onclick="color1(`white`)"  class="white colorOption"></button>
                </div>
            </div>
            <p id="description">Bring your ideas to life with a custom 3D print! Whether it’s a unique design, prototype, or personalized object, we can print it to your exact specifications. Upload your design or provide details, and we’ll turn it into a high-quality 3D printed item. Perfect for gifts, projects, or one-of-a-kind creations!</p>
            <button onclick="goToCheckout()" id="orderButton">Place Order</a>
        </div>
    </div>
    <div id="footer">
        <div id="footerLogo">
            <img src="../Images/rossRams.png" alt="Ross Rams Logo">
            <p id="logoText">Engineering Club</p>
        </div>
        <p id="info"><a href="https://www.rossrams.com">Ross Local School District</a>
            <br>3371 Hamilton-Cleves Road OH 45013
            <br>(513) 863-1253
        </p>
    </div>
</body>
<script>
    function color1(color) {
        
        const button = document.getElementsByClassName(color)[0];
        const oldButton = document.getElementsByClassName("pick")[0];
        
        // Update button styles
        oldButton.classList.remove("pick");
        button.classList.add("pick");

        // Update or add the 'color' parameter in the URL
        const urlParams = new URLSearchParams(window.location.search);
        urlParams.set('color1', color); // Set or update the 'color' parameter

        // Update the browser's URL without reloading the page
        const newUrl = `${window.location.pathname}?${urlParams.toString()}`;
        window.history.replaceState(null, '', newUrl);
    }

    function goToCheckout() {
        const fileInput = document.getElementById('designUpload');
        const file = fileInput.files[0];
        
        if (file) {
            // Convert to data URL to store in sessionStorage (optional step)
            const reader = new FileReader();
            reader.onload = function (event) {
                sessionStorage.setItem('designImage', event.target.result);
                let baseUrl = "../order.html?item=8";
    
    // Get current URL parameters and append them to the new URL
    const currentParams = new URLSearchParams(window.location.search);
    if (currentParams.toString()) {
        baseUrl += "&" + currentParams.toString();
    }
    window.location.href = baseUrl;
            };
            reader.readAsDataURL(file);
        } else {
            alert('Please upload a design image.');
        }
    }
</script>

</html>